{% extends "base.html" %}

{% block title %}Recipe{% endblock %}

{% block content %}
<div class="search-container">
	<form action="{{ url_for('search') }}" method="get">
		<input type="search" name="query" placeholder="Japanese Pancakes">
		<button type="submit">Search</button>
	</form>
</div><br>
<div class="recipe-container">
	{% for recipe in recipes %}
	<div class="modal fade" id="recipeModal{{ recipe.id }}" tabindex="-1" role="dialog" aria-labeledby="recipeModal{{ recipe.id }}Label" aria-hidden="true">
		<div class="modal-dialog modal-dialog-centered" role="document">
			<div class="modal-content">
				<div class="modal-header">
					<img src="{{ recipe.image }}" alt="{{ recipe.label }}">
					<h5 class="modal-title ml-3" id="recipeModal{{ recipe.id }}Label">{{ recipe.label }}</h5>
					<button type="button" class="close" data-dismiss="modal" aria-label="Close">
						<span aria-hidden="true">&times;</span>
					</button>
				</div>
				<div class="modal-body">
					<ul>
						{% for ingredient in recipe.ingredients %}
						<li>{{ ingredient.text }}</li>
						{% endfor %}
					</ul>
				</div>
			</div>
		</div>
	</div>
	{% endfor %}
</div>

<script>
    $(document).ready(function() {
        $('[data-toggle="modal"]').click(function(e) {
            e.preventDefault();
            $($(this).data("target")).modal("show");
        });
    });
</script>

{% endblock %}
